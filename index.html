<!DOCTYPE html>
<html>
<head>
	<title></title>
	<script type="text/javascript" href="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>
	<script>
		const isValid = chaveAcesso => {
		  if (!chaveAcesso || chaveAcesso.trim().length !== 44) {
		    return false
		  }

		  const chaveParcial = chaveAcesso.substring(0, 43)
		  const multiplicadores = [2, 3, 4, 5, 6, 7, 8, 9]

		  let i = 42
		  let somaPonderada = 0

		  while (i >= 0) {
		    for (let j = 0; (j < multiplicadores.length && i >= 0); j++) {
		      somaPonderada += chaveParcial[i] * multiplicadores[j]
		      i -= 1
		    }
		  }

		  const resto = somaPonderada % 11
		  const dv = (resto === 0 || resto === 1) ? 0 : 11 - resto

		  return String(dv) === chaveAcesso.substring(43, 44)
		}

		$(function(){
			console.log($('[name=chave-nfe]'));
		})

	</script>
	<input type="text" name="chave-nfe" placeholder="Insira a chave da nota fiscal para validar">
</body>
</html>
